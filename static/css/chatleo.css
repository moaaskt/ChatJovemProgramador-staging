/* Variáveis CSS para personalização do chat */
.chatbot-widget {
  --chat-primary: #3D7EFF;
  --chat-secondary: #8B5CF6;
}

.chatleo-bubble{position:fixed;bottom:30px;right:30px;z-index:1040;cursor:pointer;display:inline-block;-webkit-tap-highlight-color:transparent}
@media (max-width: 768px){
  .chatleo-bubble.is-hidden,
  .chatbot-trigger.is-hidden{
    opacity:0 !important;
    pointer-events:none !important;
    transform:scale(.85) translateY(24px) !important;
  }
}
.chatleo-bubble__avatar{width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,#7b2ff7 0%,#9c4eff 35%,#21d4fd 100%);box-shadow:0 10px 25px rgba(123,47,247,.35),0 0 15px rgba(33,212,253,.35);display:flex;align-items:center;justify-content:center;transition:transform .2s,box-shadow .2s,opacity .2s;animation:chatleo-pulse 2.4s infinite ease-in-out}
.chatleo-bubble--active .chatleo-bubble__avatar{transform:scale(1.05);box-shadow:0 20px 40px rgba(123,47,247,.45),0 0 30px rgba(33,212,253,.45)}
.chatleo-bubble__avatar img{width:58px;height:58px;border-radius:50%;pointer-events:none}
.chatleo-bubble__badge{position:absolute;top:-6px;right:-6px;min-width:22px;height:22px;padding:0 6px;border-radius:999px;background:#ef4444;color:#fff;font-weight:700;font-size:12px;display:inline-flex;align-items:center;justify-content:center;transform:translateZ(0);transition:opacity .2s,transform .2s}
.chatleo-bubble__badge[hidden]{opacity:0;transform:scale(.8);pointer-events:none}
.chatleo-bubble__tooltip{position:absolute;bottom:84px;right:0;background:rgba(17,24,39,.92);color:#fff;padding:.5rem .75rem;border-radius:.5rem;font-size:14px;white-space:nowrap;box-shadow:0 8px 20px rgba(0,0,0,.25);opacity:0;transform:translateY(10px);transition:transform .2s,opacity .2s;pointer-events:none}
.chatleo-bubble:hover .chatleo-bubble__tooltip{opacity:1;transform:translateY(0)}
@media (max-width:768px){.chatleo-bubble{bottom:20px;right:20px}.chatleo-bubble__avatar{width:60px;height:60px}}
@media (max-width:480px){.chatleo-bubble{bottom:.75rem;right:.75rem}.chatleo-bubble__avatar{width:55px;height:55px}}
@keyframes chatleo-pulse{0%,100%{box-shadow:0 10px 25px rgba(123,47,247,.35),0 0 15px rgba(33,212,253,.35)}50%{box-shadow:0 10px 25px rgba(123,47,247,.35),0 0 35px rgba(33,212,253,.55)}}

/* Estado visual da bolha quando o chat está aberto (permanece visível) */

/* Acessibilidade: reduz animações */
@media (prefers-reduced-motion: reduce){
  .chatleo-bubble__avatar{animation:none}
}

/* Safe area em iOS (evita sobrepor barra/home) */
.chatleo-bubble{
  bottom: max(16px, calc(16px + env(safe-area-inset-bottom)));
  right: max(16px, calc(16px + env(safe-area-inset-right)));
}

/* Tooltip exibida por onboarding */
.chatleo-bubble.show-tip .chatleo-bubble__tooltip{
  opacity:1; transform:translateY(0);
}

/* Suaviza pintura e animações do container do widget */
#chatbot-widget, .chatbot-widget{will-change:opacity,transform}
